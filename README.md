## API

## Песни

Методы для работы с песнями

### Получение списка песен

|Ссылка|Метод|Параметры|
|---|---|---|
|`/api/songs/`|GET|-|

Ответ сервера:

```
[
  {
    author: "5cb7821037417a7617823162",
    created: "2019-04-17T19:44:16.836Z",
    genre: "3",
    lastChosen: "2019-04-12T19:44:19.000Z",
    title: "Song Title",
    _id: "5cb7821037417a7617823163"
  }
]
```

### Добавление песни

|Ссылка|Метод|Параметры|
|---|---|---|
|`/api/songs/create/`|POST|   |

Параметры:

```
{
  author: "5cb7913eaea22979b168f320",
  created: "2019-04-17T20:49:02.476Z",
  genre: "2",
  title: "Title"
}
```

Ответ сервера:

```
{
  author: "5cb7913eaea22979b168f320",
  created: "2019-04-17T20:49:02.476Z",
  genre: "2",
  title: "Title",
  _id: "5cb7913eaea22979b168f321"
}
```

### Изменение песни

|Ссылка|Метод|Параметры|
|---|---|---|
|`/api/songs/update/`|POST|   |

### Удаление песни + Удаление песни из листов

Бэк: Удаляется песня и удаляется из листов

Фронт: приходит массив листов, откуда её удалить, проходим по листам, удаляем из них эту песню и потом саму песню

|Ссылка|Метод|Параметры|
|---|---|---|
|`/api/songs/delete/[id]`|POST|   |

___

## Листы

Методы для работы со списками песен (листами)

### Получение списка листов

|Ссылка|Метод|Параметры|
|---|---|---|
|`/api/history/`|GET|   |

Ответ сервера:

```
[
  {
    date: "2019-04-12T19:44:19.000Z"
    list: ["5cb7821037417a7617823163"]
    _id: "5cb7822337417a7617823164"
  }
]
```

### Добавление листа + Изменение даты последнего исполнения этих песен

Бэк: добавляется лист, у песен из листа меняется дата песен

Фронт: при успехе на бэке добавляется лист и меняется дата песен

|Ссылка|Метод|Параметры|
|---|---|---|
|`/api/history/create/`|POST|   |

Параметры:

```
{
  date: "2019-04-17T20:42:44.034Z",
  list: ["5cb7821037417a7617823163", "5cb7913eaea22979b168f321"]
}
```

Ответ сервера:

```
{
  date: "2019-04-17T20:42:44.034Z",
  list: ["5cb7821037417a7617823163", "5cb7913eaea22979b168f321"],
  _id: "5cb79243aea22979b168f322"
}
```

### Изменение листа + Изменение даты последнего исполнения песни

Бэк: меняется лист, если были удалены песни, то меняем их дату

Фронт: при успехе приходит объект: `{ [ID песни]: дата исполнения }`. Меняем лист и песни из полученного списка

|Ссылка|Метод|Параметры|
|---|---|---|
|`/api/history/update/`|POST|   |

### Удаление листа + Изменение даты последнего исполнения этих песен

Бэк: удаляется лист, меняется дата песен

Фронт: при успехе приходит объект: `{ [ID песни]: дата исполнения }`. Удаляем лист и меняем дату у песен из полученного списка

|Ссылка|Метод|Параметры|
|---|---|---|
|`/api/history/delete/[id]`|POST|   |

___

## Авторы

Методы для работы с авторами песен

### Добавление авторов

|Ссылка|Метод|Параметры|
|---|---|---|
|`/api/authors/create/`|POST|   |

Параметры:

```
{
  name: "Author Name"
}
```

Ответ сервера:

```
{
  name: "Author",
  _id: "5cb7913eaea22979b168f320"
}
```

### Получение списка авторов

|Ссылка|Метод|Параметры|
|---|---|---|
|`/api/authors/`|GET|   |

Ответ сервера:

```
[
  {
    name: "Author Name",
    _id: "5c0a6615e6048b2cfc0be850"
  }
]
```

___

## Жанры

Методы для работы с жанрами песен

### Добавление жанров

|Ссылка|Метод|Параметры|
|---|---|---|
|`/api/genres/create/`|POST|   |

### Получение списка жанров

|Ссылка|Метод|Параметры|
|---|---|---|
|`/api/genres/`|GET|   |
